
###############################################################################
#                        Reference Sample Section
#
# The Reference Sample Section handles the configuration related with the
# objects used to find neighbors from. Two different types of reference samples
# can be used. The first is a directory build using the NNPZ tools, containing
# the reference sample in the NNPZ format (parameter reference_sample_dir_. The
# second is a reference catalog, containing photometry values for the same bands
# as the target catalog (ref_cat option). Note that only one of the two options
# can be used.
#
###############################################################################

#
# Reference Sample directory options:
#
# - reference_sample_dir
#       The directory containing the reference sample files
# - reference_sample_phot_file
#       The file containing the photometry of the reference sample, as produced
#       by the NnpzBuildPhotometry tool
# - reference_sample_phot_filters
#       The filters of the reference sample photometry to be used. They must
#       have the same order with the ones defined by the target_filters option
# - reference_sample_out_mean_phot_filters
#       A list of filters from the reference sample photometry file to compute
#       the weighted mean photometry for
#

#reference_sample_dir = '/disk2/OU-PHZ/NNPZ/multifile'
reference_sample_phot_file = '/disk2/OU-PHZ/NNPZ/phot/DC3.2.0_F_nu_uJy.fits'
reference_sample_phot_filters = ['u', 'g', 'r', 'i', 'z', 'vis', 'Y', 'J', 'H']
reference_sample_out_mean_phot_filters = reference_sample_phot_filters

#
# Reference catalog options:
#
# - reference_catalog
#       An ASCII or FITS photometry catalog to be used as the the reference
#       sample
# - reference_catalog_filters
#       The columns of the reference catalog containing the photometry values.
#       They must have the same order with the ones defined by the
#       target_catalog_filters option
# - reference_catalog_out_mean_phot_filters
#       A list of filters from the reference sample photometry file to compute
#       the weighted mean photometry for
#

reference_catalog = '/disk2/OU-PHZ/DC3/jean/DC3.2.0/cats/euclid_emulated_DC3.2.0_COSMOS15_training_vis_detected.fits'
reference_catalog_filters = [
    ('u_obs', 'u_obs_err'),
    ('g_obs', 'g_obs_err'),
    ('r_obs', 'r_obs_err'),
    ('i_obs', 'i_obs_err'),
    ('z_obs', 'z_obs_err'),
    ('vis_obs', 'vis_obs_err'),
    ('Y_obs', 'Y_obs_err'),
    ('J_obs', 'J_obs_err'),
    ('H_obs', 'H_obs_err')
]
reference_catalog_out_mean_phot_filters = reference_catalog_filters

###############################################################################
#                       Target Catalog Section
#
# The Target Catalog Section handles the configuration related with the catalog
# to compute the photometric redshift for.
#
# Target catalog options:
#
# - target_catalog
#       The input photometric catalog, in FITS or ASCII format
# - target_catalog_filters
#       The columns of the target catalog containing the photometry values. They
#       must have the same order defined by the reference_catalog_filters option
# - missing_photometry_flags
#       A list containing all the values indicating missing data. Note that NaN
#       is implicitly translated to missing data.
# - input_size
#       Defines the number of rows of the input catalog to process
#
###############################################################################

target_catalog = '/disk2/OU-PHZ/DC3/jean/DC3.2.0/cats/euclid_emulated_DC3.2.0_COSMOS15_test_vis_detected.fits'
target_catalog_filters = [
    ('u_obs', 'u_obs_err'),
    ('g_obs', 'g_obs_err'),
    ('r_obs', 'r_obs_err'),
    ('i_obs', 'i_obs_err'),
    ('z_obs', 'z_obs_err'),
    ('vis_obs', 'vis_obs_err'),
    ('Y_obs', 'Y_obs_err'),
    ('J_obs', 'J_obs_err'),
    ('H_obs', 'H_obs_err')
]
missing_photometry_flags = [-99]
input_size = 1000

###############################################################################

neighbor_method = 'Combined'

batch_size = 2000
neighbors_no = 30

###############################################################################
#                      Output Section
#
# The Output Section handles the configuration related with the produced output.
#
# Avaiable options:
#
# - output_file
#       The file to store the output catalog
# - copy_input_columns
#       If True, the target catalog columns are copied to the output
# - neighbor_info_output
#       Add to the output catalog the reference sample neighbor IDs and weights
#
###############################################################################

output_file = '/disk2/OU-PHZ/DC3/nnpz/out.fits'
copy_input_columns = True
neighbor_info_output = True

###############################################################################
log_level = 'INFO'